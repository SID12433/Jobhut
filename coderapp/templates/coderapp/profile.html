{%extends 'coderapp/base.html'%}
{%load static%}

{%block body_block%}
<style>
  .type-box{
    margin-top: -60%;
    max-width: 70%;
    margin-right: -50%;
    margin-left: 200px;
    opacity: 0%;
    
   
    
  }
  .type-box.show{
    opacity: 100%;
  }
    
 
</style>

<div class="container-fluid py-4">
  <div class="row mb-8">
    <div class="col-8 mb-5">
      <div class="card my-4" style="width: 150%; height:130%;">
        <div class="card-header p-0 mx-3">
          <div class="bg-gradient-primary shadow-primary border-radius-lg pt-5 pb-5 ">
            <h6 class="text-white text-capitalize ps-3">Profile</h6>
          </div> 
        </div>
        <div style="display: flex; justify-content:flex-start; margin-left: 40px;">
          <img src="{{p.profile.url}}" class="card-img-top mt-5 " alt="no image" style="width: 20%; height: auto;">
          <h6 style="margin-left: 10px; margin-top: 10%;">{{ p.name }} <p style="margin-left: 150px; margin-top:-60px;"><i class="fa-regular fa-pen-to-square popupbtn"></i></p></h6>

        </div>
        <h4 class="profile" style="font-family: 'Times New Roman';"></h4>
          <div class="card-body text-dark ms-4" style="font-family: 'Arial', sans-serif;">
          <h5 class="card-title">{{p.name}}</h5>
          <p class="card-text">{{p.bio}}</p>
          <p class="card-text">{{p.phone}}</p>
          <p class="card-text">{{p.email_address}}</p>
          <p class="card-text">{{p.address}}</p>
          <h4>skills -</h4>
          <p class="card-text">{{p.skills}}</p>


        </div>  
        
      </div> 
    </div>
  </div>
  <div class="type-box d-flex justify-content-end ">
    <div class="col-5 position-relative">
        <div class="card">
            <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
                <div class="bg-gradient-primary shadow-primary border-radius-lg pt-3">
                    <h6 class="text-white text-capitalize ps-3 text-center">Update Profile</h6>
            </div>
            <form method="post" enctype="multipart/form-data" class="" >
              {% csrf_token %}
              {{form.as_p}}
              <div class="text-center"> 
                  <button type="submit" class="btn btn-primary form-control">Update Profile</button>
              </div>  
          </div>          
          </form>
            
        </div>
    </div>
</div>



</div>


<script>
    document.addEventListener('DOMContentLoaded', function() {
      const popupBtn = document.querySelector('.popupbtn');
      const typeBox = document.querySelector('.type-box');
  
      popupBtn.addEventListener('click', function() {
        typeBox.classList.toggle('show');
      });
    });
  </script>

{%endblock%}